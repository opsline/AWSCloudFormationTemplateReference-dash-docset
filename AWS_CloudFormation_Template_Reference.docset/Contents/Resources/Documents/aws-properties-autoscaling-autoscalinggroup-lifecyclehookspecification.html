<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <h1 class="topictitle" id="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification">Amazon EC2 Auto Scaling AutoScalingGroup LifecycleHookSpecification</h1><p>The 
                        <code class="code">LifecycleHookSpecification</code> property type defines lifecycle hooks for an Auto Scaling group, 
                        which specify actions to perform when Auto Scaling launches or terminates instances.
                        
                        For more information, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/lifecycle-hooks.html" target="_blank">
                           Amazon EC2 Auto Scaling Lifecycle Hooks</a> in the <em>Amazon EC2 Auto Scaling User Guide</em>.
                     </p><p>
                        The <code class="code">LifecycleHookSpecificationList</code> property of the <a href="aws-properties-as-group.html">AWS::AutoScaling::AutoScalingGroup</a> resource contains a list of <code class="code">LifecycleHookSpecification</code> property types.
                     </p><h2 id="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter">
                        
                        <h3 id="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification-syntax.json">JSON</h3>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;<a href="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html#cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-defaultresult">DefaultResult</a>&quot; : <em class="replaceable"><code>String</code></em>,
  &quot;<a href="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html#cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-heartbeattimeout">HeartbeatTimeout</a>&quot; : <em class="replaceable"><code>Integer</code></em>,
  &quot;<a href="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html#cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-lifecyclehookname">LifecycleHookName</a>&quot; : <em class="replaceable"><code>String</code></em>,
  &quot;<a href="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html#cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-lifecycletransition">LifecycleTransition</a>&quot; : <em class="replaceable"><code>String</code></em>,
  &quot;<a href="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html#cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-notificationmetadata">NotificationMetadata</a>&quot; : <em class="replaceable"><code>String</code></em>,
  &quot;<a href="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html#cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-notificationtargetarn">NotificationTargetARN</a>&quot; : <em class="replaceable"><code>String</code></em>,
  &quot;<a href="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html#cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-rolearn">RoleARN</a>&quot; : <em class="replaceable"><code>String</code></em>
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        
                        <h3 id="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification-syntax.yaml">YAML</h3>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight"><a href="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html#cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-defaultresult">DefaultResult</a>: <em class="replaceable"><code>String</code></em>
<a href="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html#cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-heartbeattimeout">HeartbeatTimeout</a>: <em class="replaceable"><code>Integer</code></em>
<a href="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html#cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-lifecyclehookname">LifecycleHookName</a>: <em class="replaceable"><code>String</code></em>
<a href="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html#cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-lifecycletransition">LifecycleTransition</a>: <em class="replaceable"><code>String</code></em>
<a href="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html#cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-notificationmetadata">NotificationMetadata</a>: <em class="replaceable"><code>String</code></em>
<a href="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html#cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-notificationtargetarn">NotificationTargetARN</a>: <em class="replaceable"><code>String</code></em>
<a href="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification.html#cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-rolearn">RoleARN</a>: <em class="replaceable"><code>String</code></em></code></pre>
                        </div><h2 id="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification-properties">Properties</h2><p>For more information about each property, including constraints, see 
                        <a href="https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_PutLifecycleHook.html" target="_blank">PutLifecycleHook</a> 
                        in the <em>Amazon EC2 Auto Scaling API Reference</em>.
                     </p><div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><a id="cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-defaultresult"></a><span class="term"><code class="code">DefaultResult</code></span></dt>
                           
                           <dd>
                              
                              <p>The action that the Auto Scaling group should take when the lifecycle hook timeout
                                 elapses 
                                 or if an unexpected failure occurs.
                              </p>
                              
                              <p><em>Valid values</em>: <code class="code">CONTINUE</code>, <code class="code">ABANDON</code> (default)
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>:                                 
                                 <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-heartbeattimeout"></a><span class="term"><code class="code">HeartbeatTimeout</code></span></dt>
                           
                           <dd>
                              
                              <p>The maximum time, in seconds, that can elapse before the lifecycle hook times out.
                                 If the lifecycle 
                                 hook times out, Auto Scaling performs the default action.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: Integer
                              </p>
                              
                              <p>
                                 <em>Update requires</em>:                                 
                                 <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-lifecyclehookname"></a><span class="term"><code class="code">LifecycleHookName</code></span></dt>
                           
                           <dd>
                              
                              <p>The name of the lifecycle hook. For constraints, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_PutLifecycleHook.html" target="_blank">
                                    PutLifecycleHook</a> in the <em>Amazon EC2 Auto Scaling API Reference</em>.
                              </p>
                              
                              <p>
                                 <em>Required</em>: Yes
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>:                                 
                                 <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-lifecycletransition"></a><span class="term"><code class="code">LifecycleTransition</code></span></dt>
                           
                           <dd>
                              
                              <p>The state of the EC2 instance to attach the lifecycle hook to. For a list of lifecycle
                                 hook types, 
                                 see <a href="https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_DescribeLifecycleHookTypes.html" target="_blank">
                                    DescribeLifecycleHookTypes</a> in the <em>Amazon EC2 Auto Scaling API Reference</em>.
                              </p>
                              
                              <p>
                                 <em>Required</em>: Yes
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>:                                 
                                 <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-notificationmetadata"></a><span class="term"><code class="code">NotificationMetadata</code></span></dt>
                           
                           <dd>
                              
                              <p>Additional information to include when Auto Scaling sends a message to the notification
                                 target. 
                                 For constraints, see <a href="https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_PutLifecycleHook.html" target="_blank">
                                    PutLifecycleHook</a> in the <em>Amazon EC2 Auto Scaling API Reference</em>.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>:                                 
                                 <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-notificationtargetarn"></a><span class="term"><code class="code">NotificationTargetARN</code></span></dt>
                           
                           <dd>
                              
                              <p>The Amazon Resource Name (ARN) of the target that Auto Scaling sends notifications
                                 to when an instance is in the transition 
                                 state for the lifecycle hook. The notification target can be either an Amazon SQS
                                 queue or an Amazon SNS topic.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>:                                 
                                 <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-autoscaling-autoscalinggroup-lifecyclehookspecification-rolearn"></a><span class="term"><code class="code">RoleARN</code></span></dt>
                           
                           <dd>
                              
                              <p>The ARN of the IAM role that allows the Auto Scaling group to publish to the specified
                                 notification target.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>:                                 
                                 <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No interruption</a>
                                 
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div><h2 id="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification-examples">Examples</h2><h3 id="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification-example1"></h3><p>The following snippet specifies a lifecycle hook for an <code class="code">AWS::AutoScaling::AutoScalingGroup</code> resource.
                     </p><div id="JSON" name="JSON" class="section langfilter">
                        
                        <h4 id="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification-example1.json">JSON</h4>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">{
  &quot;Resources&quot;: {
    &quot;ASG&quot;: {
      &quot;Type&quot;: &quot;AWS::AutoScaling::AutoScalingGroup&quot;,
      &quot;Properties&quot;: {
        &quot;AvailabilityZones&quot;: [
          {
            &quot;Ref&quot;: &quot;AZParameter&quot;
          }
        ],
        &quot;VPCZoneIdentifier&quot;: {
          &quot;Ref&quot;: &quot;Subnets&quot;
        },
        &quot;DesiredCapacity&quot;: &quot;0&quot;,
        &quot;MaxSize&quot;: &quot;0&quot;,
        &quot;MinSize&quot;: &quot;0&quot;,
        &quot;LaunchConfigurationName&quot;: {
          &quot;Ref&quot;: &quot;LC&quot;
        },
        &quot;LifecycleHookSpecificationList&quot;: [
          {
            &quot;LifecycleTransition&quot;: &quot;autoscaling: EC2_INSTANCE_LAUNCHING&quot;,
            &quot;LifecycleHookName&quot;: &quot;myFirstLifecycleHook&quot;,
            &quot;HeartbeatTimeout&quot;: 4800,
            &quot;NotificationTargetARN&quot;: {
              &quot;Fn::GetAtt&quot;: [
                &quot;SQS&quot;,
                &quot;Arn&quot;
              ]
            }
          }
        ]
      }
    },
    &quot;SQS&quot;: {
      &quot;Type&quot;: &quot;AWS::SQS::Queue&quot;
    }
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        
                        <h4 id="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification-example1.yaml">YAML</h4>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">Resources:
  ASG:
    Type: &apos;AWS::AutoScaling::AutoScalingGroup&apos;
    Properties:
      AvailabilityZones:
        - !Ref AZParameter
      VPCZoneIdentifier: !Ref Subnets
      DesiredCapacity: &apos;0&apos;
      MaxSize: &apos;0&apos;
      MinSize: &apos;0&apos;
      LaunchConfigurationName: !Ref LC
      LifecycleHookSpecificationList:
        - LifecycleTransition: &apos;autoscaling:EC2_INSTANCE_LAUNCHING&apos;
          LifecycleHookName: &apos;myFirstLifecycleHook&apos;
          HeartbeatTimeout: 4800
          NotificationTargetARN: !GetAtt SQS.Arn
  SQS:
    Type: &apos;AWS::SQS::Queue&apos;</code></pre>
                        </div><h2 id="aws-properties-autoscaling-autoscalinggroup-lifecyclehookspecification-seealso">See Also</h2><div class="itemizedlist">
                        
                        
                        <ul class="itemizedlist" type="disc">
                           <li class="listitem">
                              <p><a href="https://docs.aws.amazon.com/autoscaling/ec2/userguide/lifecycle-hooks.html" target="_blank">
                                    Amazon EC2 Auto Scaling Lifecycle Hooks</a> in the <em>Amazon EC2 Auto Scaling User Guide</em></p>
                           </li>
                           <li class="listitem">
                              <p><a href="https://docs.aws.amazon.com/autoscaling/ec2/APIReference/API_PutLifecycleHook.html" target="_blank">
                                    PutLifecycleHook</a> in the <em>Amazon EC2 Auto Scaling API Reference</em></p>
                           </li>
                        </ul>
                     </div></div>
</body>
</html>