<!DOCTYPE html>
<html>
<head>
    <link href="css/awsdocs.css" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/awsdocs.min.js"></script>
    <meta charset="utf-8">
</head>
<body>
    <div id="content" style="padding: 10px 30px;">
    <h1 class="topictitle" id="aws-resource-sagemaker-model">AWS::SageMaker::Model</h1><p>The <code class="code">AWS::SageMaker::Model</code> resource to create a model to host at an Amazon
                        SageMaker endpoint. For more information, see <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/how-it-works-hosting.html" target="_blank">Deploying a Model on
                           Amazon SageMaker Hosting Services</a> in the <em>Amazon SageMaker Developer
                           Guide</em>. 
                     </p><div class="highlights" id="inline-topiclist">
                        <p><strong>Topics</strong></p>
                        <ul>
                           <li><a href="#aws-resource-sagemaker-model-syntax">Syntax</a></li>
                           <li><a href="#aws-resource-sagemaker-model-properties">Properties</a></li>
                           <li><a href="#aws-resource-sagemaker-model-returnvalues">Return Values</a></li>
                           <li><a href="#aws-resource-sagemaker-model-examples">Examples</a></li>
                        </ul>
                     </div><h2 id="aws-resource-sagemaker-model-syntax">Syntax</h2><p>To declare this entity in your AWS CloudFormation template, use the following syntax:</p><div id="JSON" name="JSON" class="section langfilter">
                        
                        <h3 id="aws-resource-sagemaker-model-syntax.json">JSON</h3>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">{
  &quot;Type&quot; : &quot;AWS::SageMaker::Model&quot;,
  &quot;Properties&quot; : {
    &quot;<a href="aws-resource-sagemaker-model.html#cfn-sagemaker-model-executionrolearn">ExecutionRoleArn</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-sagemaker-model.html#cfn-sagemaker-model-primarycontainer">PrimaryContainer</a>&quot; : <a href="aws-properties-sagemaker-model-containerdefinition.html">Tag</a>,
    &quot;<a href="aws-resource-sagemaker-model.html#cfn-sagemaker-model-modelname">ModelName</a>&quot; : <em class="replaceable"><code>String</code></em>,
    &quot;<a href="aws-resource-sagemaker-model.html#cfn-sagemaker-model-vpcconfig">VpcConfig</a>&quot; : <a href="aws-properties-sagemaker-notebookinstance-tag.html">Tag</a>,
    &quot;<a href="aws-resource-sagemaker-model.html#cfn-sagemaker-model-tags">Tags</a>&quot; : [ <a href="aws-properties-sagemaker-model-tag.html">Tag</a>, ... ]
  }
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        
                        <h3 id="aws-resource-sagemaker-model-syntax.yaml">YAML</h3>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight">Type: &quot;AWS::SageMaker::Model&quot;
Properties:
  <a href="aws-resource-sagemaker-model.html#cfn-sagemaker-model-executionrolearn">ExecutionRoleArn</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-sagemaker-model.html#cfn-sagemaker-model-primarycontainer">PrimaryContainer</a>: <a href="aws-properties-sagemaker-model-containerdefinition.html">Tag</a>
  <a href="aws-resource-sagemaker-model.html#cfn-sagemaker-model-modelname">ModelName</a>: <em class="replaceable"><code>String</code></em>
  <a href="aws-resource-sagemaker-model.html#cfn-sagemaker-model-vpcconfig">VpcConfig</a>: <a href="aws-properties-sagemaker-notebookinstance-tag.html">Tag</a>
  <a href="aws-resource-sagemaker-model.html#cfn-sagemaker-model-tags">Tags</a>: 
    - <a href="aws-properties-sagemaker-model-tag.html">Tag</a> </code></pre>
                        </div><h2 id="aws-resource-sagemaker-model-properties">Properties</h2><div class="variablelist">
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <dl>
                           
                           <dt><a id="cfn-sagemaker-model-executionrolearn"></a><span class="term"><code class="code">ExecutionRoleArn</code></span></dt>
                           
                           <dd>
                              
                              <p>The Amazon Resource Name (ARN) of the IAM role that Amazon SageMaker can
                                 assume to access model artifacts and docker image for deployment on ML
                                 compute instances. Deploying on ML compute instances is part of model
                                 hosting. For more information, see <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/sagemaker-roles.html" target="_blank">Amazon
                                    SageMaker Roles</a>.
                              </p>
                              
                              <p>
                                 <em>Required</em>: Yes
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-sagemaker-model-primarycontainer"></a><span class="term"><code class="code">PrimaryContainer</code></span></dt>
                           
                           <dd>
                              
                              <p>The location of the primary docker image containing inference code,
                                 associated artifacts, and custom environment map that the inference code
                                 uses when the model is deployed into production. 
                              </p>
                              
                              <p>
                                 <em>Required</em>: Yes
                              </p>
                              
                              <p>
                                 <em>Type</em>: <a href="aws-properties-sagemaker-model-containerdefinition.html">Amazon SageMaker Model
                                    ContainerDefinition</a></p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-sagemaker-model-modelname"></a><span class="term"><code class="code">ModelName</code></span></dt>
                           
                           <dd>
                              
                              <p>The name of the model.</p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: String
                              </p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-sagemaker-model-vpcconfig"></a><span class="term"><code class="code">VpcConfig</code></span></dt>
                           
                           <dd>
                              
                              <p>A VpcConfig object that specifies the VPC that you want your model to
                                 connect to. Control access to and from your model container by configuring
                                 the VPC. For more information, see <a href="https://docs.aws.amazon.com/sagemaker/latest/dg/host-vpc.html" target="_blank">Protect Models
                                    by Using an Amazon Virtual Private Cloud</a>.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: <a href="aws-properties-sagemaker-model-vpcconfig.html">Amazon SageMaker Model VpcConfig</a></p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-replacement">Replacement</a>
                                 
                              </p>
                              
                           </dd>
                           
                           
                           <dt><a id="cfn-sagemaker-model-tags"></a><span class="term"><code class="code">Tags</code></span></dt>
                           
                           <dd>
                              
                              <p>An array of key-value pairs. For more information, see <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/awsaccountbilling/latest/aboutv2/cost-alloc-tags.html#allocation-what" target="_blank">Using
                                    Cost Allocation Tags</a> in the <em>AWS Billing and Cost Management User
                                    Guide</em>.
                              </p>
                              
                              <p>
                                 <em>Required</em>: No
                              </p>
                              
                              <p>
                                 <em>Type</em>: List of <a href="aws-properties-sagemaker-model-tag.html">Amazon SageMaker Model
                                    Tag</a></p>
                              
                              <p>
                                 <em>Update requires</em>: <a href="http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/using-cfn-updating-stacks-update-behaviors.html#update-no-interrupt">No
                                    interruption</a>
                                 
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div><h2 id="aws-resource-sagemaker-model-returnvalues">Return Values</h2><h3 id="aws-resource-sagemaker-model-ref">Ref</h3><p>When you pass the logical ID of an <code class="code">AWS::SageMaker::Model</code> resource to
                        the intrinsic <code class="code">Ref</code> function, the function returns the Amazon Resource Name (ARN) of
                        the model, such as
                        <code class="code">arn:aws:sagemaker:us-west-2:012345678901:model/mymodel</code>.
                     </p><p>For more information about using the <code class="code">Ref</code> function, see <a href="intrinsic-function-reference-ref.html">Ref</a>. 
                     </p><h3 id="aws-resource-sagemaker-model-getatt">Fn::GetAtt</h3><p>
                        <code class="code">Fn::GetAtt</code> returns a value for a specified attribute of this type. The
                        following are the available attributes and sample return values. 
                     </p><div class="variablelist">
                        
                        
                        <dl>
                           
                           <dt><span class="term"><code class="code">ModelName</code></span></dt>
                           
                           <dd>
                              
                              <p>The name of the model, such as <code class="code">MyModel</code>.
                              </p>
                              
                           </dd>
                           
                        </dl>
                     </div><p>For more information about using <code class="code">Fn::GetAtt</code>, see <a href="intrinsic-function-reference-getatt.html">Fn::GetAtt</a>. 
                     </p><h2 id="aws-resource-sagemaker-model-examples">Examples</h2><h3 id="aws-resource-sagemaker-model-example1">SageMaker Endpoint Example</h3><p>The following example creates an endpoint configuration from a trained model, and
                        then
                        creates an endpoint.
                     </p><div id="JSON" name="JSON" class="section langfilter">
                        
                        <h4 id="aws-resource-sagemaker-endpoint-example1.json">JSON</h4>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">{
  &quot;Description&quot;: &quot;Basic Hosting entities test.  We need models to create endpoint configs.&quot;,
  &quot;Mappings&quot;: {
    &quot;RegionMap&quot;: {
      &quot;us-west-2&quot;: {
        &quot;NullTransformer&quot;: &quot;12345678901.dkr.ecr.us-west-2.amazonaws.com/mymodel:latest&quot;
      },
      &quot;us-east-2&quot;: {
        &quot;NullTransformer&quot;: &quot;12345678901.dkr.ecr.us-east-2.amazonaws.com/mymodel:latest&quot;
      },
      &quot;us-east-1&quot;: {
        &quot;NullTransformer&quot;: &quot;12345678901.dkr.ecr.us-east-1.amazonaws.com/mymodel:latest&quot;
      },
      &quot;eu-west-1&quot;: {
        &quot;NullTransformer&quot;: &quot;12345678901.dkr.ecr.eu-west-1.amazonaws.com/mymodel:latest&quot;
      },
      &quot;ap-northeast-1&quot;: {
        &quot;NullTransformer&quot;: &quot;12345678901.dkr.ecr.ap-northeast-1.amazonaws.com/mymodel:latest&quot;
      },
      &quot;ap-northeast-2&quot;: {
        &quot;NullTransformer&quot;: &quot;12345678901.dkr.ecr.ap-northeast-2.amazonaws.com/mymodel:latest&quot;
      },
      &quot;ap-southeast-2&quot;: {
        &quot;NullTransformer&quot;: &quot;12345678901.dkr.ecr.ap-southeast-2.amazonaws.com/mymodel:latest&quot;
      },
      &quot;eu-central-1&quot;: {
        &quot;NullTransformer&quot;: &quot;12345678901.dkr.ecr.eu-central-1.amazonaws.com/mymodel:latest&quot;
      }
    }
  },
  &quot;Resources&quot;: {
    &quot;Endpoint&quot;: {
      &quot;Type&quot;: &quot;AWS::SageMaker::Endpoint&quot;,
      &quot;Properties&quot;: {
        &quot;EndpointConfigName&quot;: { &quot;Fn::GetAtt&quot; : [&quot;EndpointConfig&quot;, &quot;EndpointConfigName&quot; ] }
      }
    },
    &quot;EndpointConfig&quot;: {
      &quot;Type&quot;: &quot;AWS::SageMaker::EndpointConfig&quot;,
      &quot;Properties&quot;: {
        &quot;ProductionVariants&quot;: [
          {
            &quot;InitialInstanceCount&quot;: 1,
            &quot;InitialVariantWeight&quot;: 1,
            &quot;InstanceType&quot;: &quot;ml.t2.large&quot;,
            &quot;ModelName&quot;: { &quot;Fn::GetAtt&quot; : [&quot;Model&quot;, &quot;ModelName&quot; ] },
            &quot;VariantName&quot;: { &quot;Fn::GetAtt&quot; : [&quot;Model&quot;, &quot;ModelName&quot; ] }
          }
        ]
      }
    },
    &quot;Model&quot;: {
      &quot;Type&quot;: &quot;AWS::SageMaker::Model&quot;,
      &quot;Properties&quot;: {
        &quot;PrimaryContainer&quot;: {
          &quot;Image&quot;: { &quot;Fn::FindInMap&quot; : [ &quot;AWS::Region&quot;, &quot;NullTransformer&quot;] }
        },
        &quot;ExecutionRoleArn&quot;: { &quot;Fn::GetAtt&quot; : [ &quot;ExecutionRole&quot;, &quot;Arn&quot; ] }
      }
    },
    &quot;ExecutionRole&quot;: {
      &quot;Type&quot;: &quot;AWS::IAM::Role&quot;,
      &quot;Properties&quot;: {
        &quot;AssumeRolePolicyDocument&quot;: {
          &quot;Version&quot;: &quot;2012-10-17&quot;,
          &quot;Statement&quot;: [
            {
              &quot;Effect&quot;: &quot;Allow&quot;,
              &quot;Principal&quot;: {
                &quot;Service&quot;: [
                  &quot;sagemaker.amazonaws.com&quot;
                ]
              },
              &quot;Action&quot;: [
                &quot;sts:AssumeRole&quot;
              ]
            }
          ]
        },
        &quot;Path&quot;: &quot;/&quot;,
        &quot;Policies&quot;: [
          {
            &quot;PolicyName&quot;: &quot;root&quot;,
            &quot;PolicyDocument&quot;: {
              &quot;Version&quot;: &quot;2012-10-17&quot;,
              &quot;Statement&quot;: [
                {
                  &quot;Effect&quot;: &quot;Allow&quot;,
                  &quot;Action&quot;: &quot;*&quot;,
                  &quot;Resource&quot;: &quot;*&quot;
                }
              ]
            }
          }
        ]
      }
    }
  },
  &quot;Outputs&quot;: {
    &quot;EndpointId&quot;: {
      &quot;Value&quot;: { &quot;Ref&quot; : &quot;Endpoint&quot; }
    },
    &quot;EndpointName&quot;: {
      &quot;Value&quot;: { &quot;Fn::GetAtt&quot; : [ &quot;Endpoint&quot;, &quot;EndpointName&quot; ] }
    }
    
  },
  
}</code></pre>
                        </div><div id="YAML" name="YAML" class="section langfilter">
                        
                        <h4 id="aws-resource-sagemaker-endpoint-example1.yaml">YAML</h4>
                        <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"></div><div class="btn-dark-theme" title="Dark theme" title-dark="Dark theme" title-light="Light theme"></div></div><code class="nohighlight ">
Description: &quot;Basic Hosting entities test.  We need models to create endpoint configs.&quot;
Mappings: 
  RegionMap: 
    &quot;us-west-2&quot;:
      &quot;NullTransformer&quot;: &quot;123456789012.dkr.ecr.us-west-2.amazonaws.com/mymodel:latest&quot;
    &quot;us-east-2&quot;:
      &quot;NullTransformer&quot;: &quot;123456789012.dkr.ecr.us-east-2.amazonaws.com/mymodel:latest&quot;
    &quot;us-east-1&quot;:
      &quot;NullTransformer&quot;: &quot;123456789012.dkr.ecr.us-east-1.amazonaws.com/mymodel:latest&quot;
    &quot;eu-west-1&quot;:
      &quot;NullTransformer&quot;: &quot;123456789012.dkr.ecr.eu-west-1.amazonaws.com/mymodel:latest&quot;
    &quot;ap-northeast-1&quot;:
      &quot;NullTransformer&quot;: &quot;123456789012.dkr.ecr.ap-northeast-1.amazonaws.com/mymodel:latest&quot;
    &quot;ap-northeast-2&quot;:
      &quot;NullTransformer&quot;: &quot;123456789012.dkr.ecr.ap-northeast-2.amazonaws.com/mymodel:latest&quot;
    &quot;ap-southeast-2&quot;:
      &quot;NullTransformer&quot;: &quot;123456789012.dkr.ecr.ap-southeast-2.amazonaws.com/mymodel:latest&quot;
    &quot;eu-central-1&quot;:
      &quot;NullTransformer&quot;: &quot;123456789012.dkr.ecr.eu-central-1.amazonaws.com/mymodel:latest&quot;
Resources:
  Endpoint:
    Type: &quot;AWS::SageMaker::Endpoint&quot;
    Properties:
      EndpointConfigName:
        !GetAtt EndpointConfig.EndpointConfigName
  EndpointConfig:
    Type: &quot;AWS::SageMaker::EndpointConfig&quot;
    Properties:
      ProductionVariants:
        - InitialInstanceCount: 1
          InitialVariantWeight: 1.0
          InstanceType: ml.t2.large
          ModelName: !GetAtt Model.ModelName
          VariantName: !GetAtt Model.ModelName
  Model:
    Type: &quot;AWS::SageMaker::Model&quot;
    Properties:
      PrimaryContainer:
        Image: !FindInMap [RegionMap, !Ref &quot;AWS::Region&quot;, &quot;NullTransformer&quot;]
      ExecutionRoleArn: !GetAtt ExecutionRole.Arn

  ExecutionRole: 
    Type: &quot;AWS::IAM::Role&quot;
    Properties: 
      AssumeRolePolicyDocument: 
        Version: &quot;2012-10-17&quot;
        Statement: 
          - 
            Effect: &quot;Allow&quot;
            Principal: 
              Service: 
                - &quot;sagemaker.amazonaws.com&quot;
            Action: 
              - &quot;sts:AssumeRole&quot;
      Path: &quot;/&quot;
      Policies: 
        - 
          PolicyName: &quot;root&quot;
          PolicyDocument: 
            Version: &quot;2012-10-17&quot;
            Statement: 
              - 
                Effect: &quot;Allow&quot;
                Action: &quot;*&quot;
                Resource: &quot;*&quot;
Outputs:
  EndpointId:
    Value: !Ref Endpoint
  EndpointName:
    Value: !GetAtt Endpoint.EndpointName</code></pre>
                        </div></div>
</body>
</html>